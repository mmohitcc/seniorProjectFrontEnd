{"ast":null,"code":"var _jsxFileName = \"/Users/mohit/Documents/GitHub/seniorProjectFrontEnd/src/views/Dashboard.jsx\";\nimport React, { Component } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Grid, Row, Col } from \"react-bootstrap\";\nimport ApolloClient from 'apollo-boost';\nimport { gql } from 'apollo-boost';\nimport axios from 'axios';\nimport { Card } from \"components/Card/Card.jsx\";\nimport { StatsCard } from \"components/StatsCard/StatsCard.jsx\";\nimport TweetList from \"./TweetList\";\nimport CurrentPositions from './CurrentPositions'; // import { Tasks } from \"components/Tasks/Tasks.jsx\";\n\nimport { dataPie, legendPie, dataSales, optionsSales, responsiveSales, legendSales, dataBar, optionsBar, responsiveBar, legendBar } from \"variables/Variables.jsx\";\nimport { get } from \"https\";\nimport { requiredSubselectionMessage } from \"graphql/validation/rules/ScalarLeafs\";\nimport { number } from \"prop-types\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tweetCount: 0,\n      accountData: {},\n      piDataPositions: {\n        labels: [\"40%\", \"20%\", \"40%\"],\n        series: [40, 20, 40]\n      },\n      tickers: [\"TSLA\", \"AMZN\", \"WMT\", \"AAPL\", \"JNJ\", \"GOOG\", \"XOM\", \"GE\", \"JPM\"],\n      rsiWeight: 0,\n      bollingerWeight: 0,\n      fourWeight: 0,\n      twitterWeight: 0,\n      companyWeight: 0,\n      weightLabels: [\"RSI\", \"Bollinger Bands\", \"Four Candle\", \"Twitter\", \"Company\"],\n      avgWeightLineRSI: [],\n      avgWeightLineBollinger: [],\n      avgWeightLineFourCandle: [],\n      avgWeightLineRSITwitter: [],\n      avgWeightLineRSICompany: []\n    };\n  }\n\n  setNumberOfTweets(count) {\n    this.setState({\n      tweetCount: count\n    });\n  }\n\n  componentDidMount() {\n    const axiosSp = axios.create({\n      baseURL: 'https://seniorprojectu.herokuapp.com/graphql'\n    });\n    const getData = \"\\n    query{pricesUniverse { ticker openPrice closePrice bull}}\\n    \";\n    const getTweets = \"\\n    query{\\n      recentTweets(ticker:\\\"Amazon\\\"){\\n              tweet\\n            rating\\n          }\\n      }\\n    \"; // for weights chart of single graph\n\n    const weights = \"\\n    query{\\n      RecentWeights(ticker: \\\"TSLA\\\", count: 15) {\\n          ticker\\n          fourWeight\\n          profitWeight\\n          twitterWeight\\n          movingWeight\\n          companyWeight\\n          date\\n      }\\n  }\\n\";\n    const positions = \"\\n      query{\\n        GetPositions {\\n          ticker\\n        }\\n      }\\n    \";\n    const tweetCount = \"\\n    query{\\n      TweetCount\\n    }\\n    \";\n    const getAccount = \"\\n    query{\\n      getAccount\\n    }\\n    \";\n    const pricePagination = \"\\n      query{\\n        pricePagination(page: 1, perPage: 20, sort: DATE_ASC) {\\n          count\\n          items {\\n            ticker\\n          }\\n        }\\n      }\\n    \";\n    const getPositions = \"\\n    query{\\n      getPositions\\n    } \\n    \";\n    const getWeight = \"query{\\n      MostRecentWeight(ticker:\\\"TSLA\\\"){\\n        ticker\\n        twitterWeight\\n        fourWeight\\n        profitWeight\\n        movingWeight\\n        companyWeight\\n      }\\n    }\\n    \";\n    const tweetMany = \"query{\\n      tweetMany(filter:{company:\\\"GOOGL\\\"}){\\n      company\\n      tweet\\n      rating\\n    }\\n  }\\n    \";\n    const count = 15 * 9;\n    this.state.tickers.map(ticker => {\n      const RecentWeights = \"\\n      query{\\n        RecentWeights(ticker: \\\"\".concat(ticker, \"\\\", count: 15) {\\n            ticker\\n            fourWeight\\n            profitWeight\\n            twitterWeight\\n            movingWeight\\n            companyWeight\\n            date\\n        }\\n    }\\n  \");\n      axiosSp.post('', {\n        query: RecentWeights\n      }).then(result => {\n        const weightData = result[\"data\"][\"data\"][\"RecentWeights\"];\n        console.log(\"logging weight data\");\n        console.log(weightData); // let posis = [];\n        // let labels = [];\n\n        weightData.map(a => {\n          console.log(\"printing a\");\n          console.log(a);\n          let rsi = this.state.rsiWeight;\n          let bollinger = this.state.bollingerWeight;\n          let fourWeightc = this.state.fourWeight;\n          let twitterWeightc = this.state.twitterWeight;\n          let companyWeightc = this.state.companyWeight;\n          let awr = this.state.avgWeightLineRSI;\n          let awB = this.state.avgWeightLineBollinger;\n          let awf = this.state.avgWeightLineFourCandle;\n          let awt = this.state.avgWeightLineRSITwitter;\n          let awc = this.state.avgWeightLineRSICompany;\n          rsi += parseInt(a.movingWeight);\n          bollinger += parseInt(a.profitWeight);\n          twitterWeightc += parseInt(a.twitterWeight);\n          fourWeightc += parseInt(a.fourWeight);\n          companyWeightc += parseInt(a.companyWeight); // labels.push(a.symbol)\n\n          this.setState({\n            rsiWeight: rsi,\n            bollingerWeight: bollinger,\n            fourWeight: fourWeightc,\n            twitterWeight: twitterWeightc,\n            companyWeight: companyWeightc\n          });\n          this.setState({\n            weightLabels: [\"RSI \".concat((rsi / count).toFixed(2)), \"Bollinger Bands \".concat((bollinger / count).toFixed(2)), \"Four Candle \".concat((fourWeightc / count).toFixed(2)), \"Twitter \".concat((twitterWeightc / count).toFixed(2)), \"Company \".concat((companyWeightc / count).toFixed(2))]\n          });\n          console.log(\"state.rsi\");\n          console.log(this.state.rsiWeight / count);\n        });\n      }); // console.log(rsi);\n      // console.log(\"printing avg\");\n      // console.log(rsi / count);\n    });\n    axiosSp.post('', {\n      query: getPositions\n    }).then(result => {\n      this.setState({\n        positionData: result[\"data\"][\"data\"][\"getPositions\"]\n      });\n      const positionsData = result[\"data\"][\"data\"][\"getPositions\"];\n      let totalValue = 0;\n      let posis = [];\n      let labels = [];\n      positionsData.map(a => {\n        posis.push(a.market_value);\n        labels.push(a.symbol);\n      });\n      let posisData = this.state.piDataPositions;\n      posisData.series = posis;\n      posisData.labels = labels;\n      this.setState({\n        piDataPositions: posisData\n      });\n      console.log(\"inside here\");\n      console.log(posis);\n      console.log(labels);\n      console.log(this.state.positionData);\n    });\n    axiosSp.post('', {\n      query: getAccount\n    }).then(result => {\n      this.setState({\n        accountData: result[\"data\"][\"data\"][\"getAccount\"]\n      });\n      console.log(this.state.accountData);\n    });\n    let numberOfTweets = 0;\n    axiosSp.post('', {\n      query: tweetCount\n    }).then(result => {\n      numberOfTweets = result[\"data\"][\"data\"][\"TweetCount\"];\n      this.setNumberOfTweets(numberOfTweets);\n      console.log(numberOfTweets);\n    }); // this.setState({tweetCount: numberOfTweets});\n\n    axiosSp.post('', {\n      query: pricePagination\n    }).then(result => console.log(result)); // const client = new ApolloClient({\n    //   uri: 'https://seniorprojectu.herokuapp.com/graphql',\n    //   fetchOptions: {\n    //     mode: \"no-cors\",\n    //     headers: { 'Content-Type': 'application/json' },\n    // \t},\n    // })\n    // client\n    // .query({\n    //   query: gql`\n    //     query{pricesUniverse {ticker openPrice closePrice}}\n    //   `\n    // })\n    // .then(result => console.log(result));\n  }\n\n  createLegend(json) {\n    var legend = [];\n\n    for (var i = 0; i < json[\"names\"].length; i++) {\n      var type = \"fa fa-circle text-\" + json[\"types\"][i];\n      legend.push(React.createElement(\"i\", {\n        className: type,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }));\n      legend.push(\" \");\n      legend.push(json[\"names\"][i]);\n    }\n\n    return legend;\n  }\n\n  render() {\n    function portfolioValue(equity) {\n      const pl = equity - 100000;\n      return pl.toFixed(2);\n    }\n\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 3,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(StatsCard, {\n      bigIcon: React.createElement(\"i\", {\n        className: \"pe-7s-wallet text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }),\n      statsText: \"Portfolio Value\",\n      statsValue: this.state.accountData.last_equity,\n      statsIcon: React.createElement(\"i\", {\n        className: \"fa fa-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }),\n      statsIconText: \"Updated now\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 3,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(StatsCard, {\n      bigIcon: React.createElement(\"i\", {\n        className: \"fa fa-dollar text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }),\n      statsText: \"Profit\",\n      statsValue: portfolioValue(this.state.accountData.last_equity),\n      statsIcon: React.createElement(\"i\", {\n        className: \"fa fa-calendar-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }),\n      statsIconText: \"Today\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 3,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(StatsCard, {\n      bigIcon: React.createElement(\"i\", {\n        className: \"pe-7s-graph1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }),\n      statsText: \"Trades\",\n      statsValue: this.state.accountData.daytrade_count,\n      statsIcon: React.createElement(\"i\", {\n        className: \"fa fa-clock-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }),\n      statsIconText: \"All Time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: 3,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(StatsCard, {\n      bigIcon: React.createElement(\"i\", {\n        className: \"fa fa-twitter text-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }),\n      statsText: \"Tweets Analyzed\",\n      statsValue: this.state.tweetCount,\n      statsIcon: React.createElement(\"i\", {\n        className: \"fa fa-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }),\n      statsIconText: \"Updated now\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(CurrentPositions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-clock-o\",\n      title: \"Portfolio\",\n      category: \"Portfolio Split\",\n      stats: \"\",\n      content: React.createElement(\"div\", {\n        id: \"chartPreferences\",\n        className: \"ct-chart ct-perfect-fourth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: this.state.piDataPositions,\n        type: \"Pie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-clock-o\",\n      title: \"Machine Learning Weights\",\n      category: \"Machine Learning Weight Split\",\n      stats: \"\",\n      content: React.createElement(\"div\", {\n        id: \"chartPreferences\",\n        className: \"ct-chart ct-perfect-fourth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: {\n          labels: this.state.weightLabels,\n          series: [this.state.rsiWeight, this.state.bollingerWeight, this.state.fourWeight, this.state.twitterWeight, this.state.companyWeight]\n        },\n        type: \"Pie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-history\",\n      id: \"chartHours\",\n      title: \"Portfolio Value\",\n      category: \"All time performance\",\n      stats: \"Updated 3 minutes ago\",\n      content: React.createElement(\"div\", {\n        className: \"ct-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: dataSales,\n        type: \"Line\",\n        options: optionsSales,\n        responsiveOptions: responsiveSales,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      })),\n      legend: React.createElement(\"div\", {\n        className: \"legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, this.createLegend(legendSales)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-history\",\n      id: \"chartHours\",\n      title: \"Portfolio Value\",\n      category: \"All time performance\",\n      stats: \"Updated 3 minutes ago\",\n      content: React.createElement(\"div\", {\n        className: \"ct-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: dataSales,\n        type: \"Line\",\n        options: optionsSales,\n        responsiveOptions: responsiveSales,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      })),\n      legend: React.createElement(\"div\", {\n        className: \"legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, this.createLegend(legendSales)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-history\",\n      id: \"chartHours\",\n      title: \"Portfolio Value\",\n      category: \"All time performance\",\n      stats: \"Updated 3 minutes ago\",\n      content: React.createElement(\"div\", {\n        className: \"ct-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: dataSales,\n        type: \"Line\",\n        options: optionsSales,\n        responsiveOptions: responsiveSales,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      })),\n      legend: React.createElement(\"div\", {\n        className: \"legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, this.createLegend(legendSales)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(Card, {\n      statsIcon: \"fa fa-clock-o\",\n      title: \"Machine Learning Statistics\",\n      category: \"Last Campaign Performance\",\n      stats: \"Campaign sent 2 days ago\",\n      content: React.createElement(\"div\", {\n        id: \"chartPreferences\",\n        className: \"ct-chart ct-perfect-fourth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: dataPie,\n        type: \"Pie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      })),\n      legend: React.createElement(\"div\", {\n        className: \"legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, this.createLegend(legendPie)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(Card, {\n      id: \"chartActivity\",\n      title: \"Profit Loss\",\n      category: \"Top 10 stocks\",\n      stats: \"Data information certified\",\n      statsIcon: \"fa fa-check\",\n      content: React.createElement(\"div\", {\n        className: \"ct-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: dataBar,\n        type: \"Bar\",\n        options: optionsBar,\n        responsiveOptions: responsiveBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      })),\n      legend: React.createElement(\"div\", {\n        className: \"legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, this.createLegend(legendBar)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/mohit/Documents/GitHub/seniorProjectFrontEnd/src/views/Dashboard.jsx"],"names":["React","Component","ChartistGraph","Grid","Row","Col","ApolloClient","gql","axios","Card","StatsCard","TweetList","CurrentPositions","dataPie","legendPie","dataSales","optionsSales","responsiveSales","legendSales","dataBar","optionsBar","responsiveBar","legendBar","get","requiredSubselectionMessage","number","Dashboard","constructor","props","state","tweetCount","accountData","piDataPositions","labels","series","tickers","rsiWeight","bollingerWeight","fourWeight","twitterWeight","companyWeight","weightLabels","avgWeightLineRSI","avgWeightLineBollinger","avgWeightLineFourCandle","avgWeightLineRSITwitter","avgWeightLineRSICompany","setNumberOfTweets","count","setState","componentDidMount","axiosSp","create","baseURL","getData","getTweets","weights","positions","getAccount","pricePagination","getPositions","getWeight","tweetMany","map","ticker","RecentWeights","post","query","then","result","weightData","console","log","a","rsi","bollinger","fourWeightc","twitterWeightc","companyWeightc","awr","awB","awf","awt","awc","parseInt","movingWeight","profitWeight","toFixed","positionData","positionsData","totalValue","posis","push","market_value","symbol","posisData","numberOfTweets","createLegend","json","legend","i","length","type","render","portfolioValue","equity","pl","last_equity","daytrade_count"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Grid, Row, Col } from \"react-bootstrap\";\nimport ApolloClient from 'apollo-boost';\nimport { gql } from 'apollo-boost';\nimport axios from 'axios'\nimport { Card } from \"components/Card/Card.jsx\";\nimport { StatsCard } from \"components/StatsCard/StatsCard.jsx\";\nimport TweetList from \"./TweetList\";\nimport CurrentPositions from './CurrentPositions';\n// import { Tasks } from \"components/Tasks/Tasks.jsx\";\nimport {\n  dataPie,\n  legendPie,\n  dataSales,\n  optionsSales,\n  responsiveSales,\n  legendSales,\n  dataBar,\n  optionsBar,\n  responsiveBar,\n  legendBar\n} from \"variables/Variables.jsx\";\nimport { get } from \"https\";\nimport { requiredSubselectionMessage } from \"graphql/validation/rules/ScalarLeafs\";\nimport { number } from \"prop-types\";\n\nclass Dashboard extends Component {\n\n  constructor(props){\n\n    super(props);\n\n    this.state = {\n      tweetCount: 0,\n      accountData: {},\n      piDataPositions: {\n        labels: [\"40%\", \"20%\", \"40%\"],\n        series: [40, 20, 40]\n      },\n      tickers: [\"TSLA\", \"AMZN\", \"WMT\", \"AAPL\", \"JNJ\", \"GOOG\", \"XOM\", \"GE\", \"JPM\"],\n      rsiWeight: 0,\n      bollingerWeight: 0,\n      fourWeight: 0,\n      twitterWeight: 0,\n      companyWeight: 0,\n      weightLabels: [\"RSI\", \"Bollinger Bands\", \"Four Candle\", \"Twitter\", \"Company\" ],\n      avgWeightLineRSI: [],\n      avgWeightLineBollinger: [],\n      avgWeightLineFourCandle: [],\n      avgWeightLineRSITwitter: [],\n      avgWeightLineRSICompany: [],\n    }\n\n  }\n\n  setNumberOfTweets(count){\n    this.setState({\n      tweetCount: count,\n    })\n  };\n\n  componentDidMount(){\n\n    const axiosSp = axios.create({\n      baseURL: 'https://seniorprojectu.herokuapp.com/graphql',\n    });\n\n    const getData = `\n    query{pricesUniverse { ticker openPrice closePrice bull}}\n    `;\n\n\n\n\n    const getTweets = \n    `\n    query{\n      recentTweets(ticker:\"Amazon\"){\n              tweet\n            rating\n          }\n      }\n    `\n\n\n    // for weights chart of single graph\n    const weights = `\n    query{\n      RecentWeights(ticker: \"TSLA\", count: 15) {\n          ticker\n          fourWeight\n          profitWeight\n          twitterWeight\n          movingWeight\n          companyWeight\n          date\n      }\n  }\n`;\n\n    const positions = `\n      query{\n        GetPositions {\n          ticker\n        }\n      }\n    `;\n\n    const tweetCount = `\n    query{\n      TweetCount\n    }\n    `;\n\n    const getAccount = `\n    query{\n      getAccount\n    }\n    `;\n\n    const pricePagination = `\n      query{\n        pricePagination(page: 1, perPage: 20, sort: DATE_ASC) {\n          count\n          items {\n            ticker\n          }\n        }\n      }\n    `;\n\n    const getPositions = `\n    query{\n      getPositions\n    } \n    `\n    \n\n    const getWeight = \n    `query{\n      MostRecentWeight(ticker:\"TSLA\"){\n        ticker\n        twitterWeight\n        fourWeight\n        profitWeight\n        movingWeight\n        companyWeight\n      }\n    }\n    `\n\n    const tweetMany = \n    `query{\n      tweetMany(filter:{company:\"GOOGL\"}){\n      company\n      tweet\n      rating\n    }\n  }\n    `;\n\n\n    const count = 15 * 9;\n    this.state.tickers.map(ticker => {\n\n            const RecentWeights = `\n      query{\n        RecentWeights(ticker: \"${ticker}\", count: 15) {\n            ticker\n            fourWeight\n            profitWeight\n            twitterWeight\n            movingWeight\n            companyWeight\n            date\n        }\n    }\n  `;\n      axiosSp\n      .post('', {query: RecentWeights})\n      .then(result => {\n        const weightData = result[\"data\"][\"data\"][\"RecentWeights\"];\n        console.log(\"logging weight data\");\n        console.log(weightData);\n        // let posis = [];\n        // let labels = [];\n        weightData.map(a => {\n          console.log(\"printing a\");\n          console.log(a);\n          let rsi = this.state.rsiWeight;\n          let bollinger = this.state.bollingerWeight;\n          let fourWeightc = this.state.fourWeight;\n          let twitterWeightc = this.state.twitterWeight;\n          let companyWeightc = this.state.companyWeight;\n          let awr = this.state.avgWeightLineRSI;\n          let awB = this.state.avgWeightLineBollinger;\n          let awf = this.state.avgWeightLineFourCandle;\n          let awt = this.state.avgWeightLineRSITwitter;\n          let awc = this.state.avgWeightLineRSICompany;\n            rsi += parseInt(a.movingWeight);\n            bollinger += parseInt(a.profitWeight);\n            twitterWeightc += parseInt(a.twitterWeight);\n            fourWeightc += parseInt(a.fourWeight);\n            companyWeightc += parseInt(a.companyWeight);\n            // labels.push(a.symbol)\n            this.setState({rsiWeight: rsi,\n            bollingerWeight: bollinger,\n            fourWeight: fourWeightc,\n            twitterWeight: twitterWeightc,\n            companyWeight: companyWeightc,\n            });\n            this.setState({\n              weightLabels: [`RSI ${(rsi / count).toFixed(2)}`, `Bollinger Bands ${(bollinger / count).toFixed(2)}`, `Four Candle ${(fourWeightc / count).toFixed(2)}`, `Twitter ${(twitterWeightc / count).toFixed(2)}`, `Company ${(companyWeightc / count).toFixed(2)}` ]\n            })\n            console.log(\"state.rsi\")\n            console.log(this.state.rsiWeight / count);\n        });\n    })\n\n    // console.log(rsi);\n    // console.log(\"printing avg\");\n    // console.log(rsi / count);\n      \n    })\n\n    \n\n\n    axiosSp\n    .post('', {query: getPositions})\n    .then(result => {\n      this.setState({positionData: result[\"data\"][\"data\"][\"getPositions\"]});\n      const positionsData = result[\"data\"][\"data\"][\"getPositions\"];\n      let totalValue = 0;\n      let posis = [];\n      let labels = [];\n      positionsData.map(a => {\n          posis.push(a.market_value)\n          labels.push(a.symbol)\n      });\n\n      let posisData = this.state.piDataPositions;\n      posisData.series = posis;\n      posisData.labels = labels;\n      this.setState({piDataPositions: posisData});\n      console.log(\"inside here\")\n      console.log(posis);\n      console.log(labels);\n      console.log(this.state.positionData);\n    });\n\n\n    axiosSp\n    .post('', {query: getAccount})\n    .then(result => {\n      this.setState({accountData: result[\"data\"][\"data\"][\"getAccount\"]});\n      console.log(this.state.accountData);\n    });\n\n    let numberOfTweets = 0;\n    axiosSp\n    .post('', {query: tweetCount})\n    .then(result => {\n      numberOfTweets = result[\"data\"][\"data\"][\"TweetCount\"]\n      this.setNumberOfTweets(numberOfTweets);\n      console.log(numberOfTweets);\n    });\n\n    \n    \n    // this.setState({tweetCount: numberOfTweets});\n\n    axiosSp\n    .post('', {query: pricePagination})\n    .then(result => console.log(result));\n\n\n    // const client = new ApolloClient({\n    //   uri: 'https://seniorprojectu.herokuapp.com/graphql',\n    //   fetchOptions: {\n    //     mode: \"no-cors\",\n    //     headers: { 'Content-Type': 'application/json' },\n\t\t// \t},\n    // })\n\n    // client\n    // .query({\n    //   query: gql`\n    //     query{pricesUniverse {ticker openPrice closePrice}}\n    //   `\n    // })\n    // .then(result => console.log(result));\n  }\n\n  createLegend(json) {\n    var legend = [];\n    for (var i = 0; i < json[\"names\"].length; i++) {\n      var type = \"fa fa-circle text-\" + json[\"types\"][i];\n      legend.push(<i className={type} key={i} />);\n      legend.push(\" \");\n      legend.push(json[\"names\"][i]);\n    }\n    return legend;\n  }\n  render() {\n\n    function portfolioValue(equity){\n      const pl = equity - 100000;\n        return pl.toFixed(2);\n    }\n\n    return (\n      <div className=\"content\">\n        <Grid fluid>\n          <Row>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-wallet text-success\" />}\n                statsText=\"Portfolio Value\"\n                statsValue={this.state.accountData.last_equity}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"fa fa-dollar text-danger\" />}\n                statsText=\"Profit\"\n                statsValue={portfolioValue(this.state.accountData.last_equity)}\n                statsIcon={<i className=\"fa fa-calendar-o\" />}\n                statsIconText=\"Today\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-graph1 text-danger\" />}\n                statsText=\"Trades\"\n                statsValue= {this.state.accountData.daytrade_count}\n                statsIcon={<i className=\"fa fa-clock-o\" />}\n                statsIconText=\"All Time\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"fa fa-twitter text-info\" />}\n                statsText=\"Tweets Analyzed\"\n                statsValue={this.state.tweetCount}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6}>\n                < CurrentPositions />\n            </Col>\n            <Col md={4}>\n              <Card\n                statsIcon=\"fa fa-clock-o\"\n                title=\"Portfolio\"\n                category=\"Portfolio Split\"\n                stats=\"\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={this.state.piDataPositions} type=\"Pie\" />\n                  </div>\n                }\n              />\n            </Col>\n            <Col md={6}>\n              <Card\n                statsIcon=\"fa fa-clock-o\"\n                title=\"Machine Learning Weights\"\n                category=\"Machine Learning Weight Split\"\n                stats=\"\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={{labels: this.state.weightLabels, series: [this.state.rsiWeight, this.state.bollingerWeight, this.state.fourWeight ,this.state.twitterWeight, this.state.companyWeight]}} type=\"Pie\" />\n                  </div>\n                }\n              />\n            </Col>\n            <Col md={4}>\n              <Card\n                statsIcon=\"fa fa-history\"\n                id=\"chartHours\"\n                title=\"Portfolio Value\"\n                category=\"All time performance\"\n                stats=\"Updated 3 minutes ago\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={dataSales}\n                      type=\"Line\"\n                      options={optionsSales}\n                      responsiveOptions={responsiveSales}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendSales)}</div>\n                }\n              />\n            </Col>\n            <Col md={8}>\n              <Card\n                statsIcon=\"fa fa-history\"\n                id=\"chartHours\"\n                title=\"Portfolio Value\"\n                category=\"All time performance\"\n                stats=\"Updated 3 minutes ago\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={dataSales}\n                      type=\"Line\"\n                      options={optionsSales}\n                      responsiveOptions={responsiveSales}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendSales)}</div>\n                }\n              />\n            </Col>\n            <Col md={8}>\n              <Card\n                statsIcon=\"fa fa-history\"\n                id=\"chartHours\"\n                title=\"Portfolio Value\"\n                category=\"All time performance\"\n                stats=\"Updated 3 minutes ago\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={dataSales}\n                      type=\"Line\"\n                      options={optionsSales}\n                      responsiveOptions={responsiveSales}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendSales)}</div>\n                }\n              />\n            </Col>\n            <Col md={4}>\n              <Card\n                statsIcon=\"fa fa-clock-o\"\n                title=\"Machine Learning Statistics\"\n                category=\"Last Campaign Performance\"\n                stats=\"Campaign sent 2 days ago\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={dataPie} type=\"Pie\" />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendPie)}</div>\n                }\n              />\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={6}>\n              <Card\n                id=\"chartActivity\"\n                title=\"Profit Loss\"\n                category=\"Top 10 stocks\"\n                stats=\"Data information certified\"\n                statsIcon=\"fa fa-check\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={dataBar}\n                      type=\"Bar\"\n                      options={optionsBar}\n                      responsiveOptions={responsiveBar}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendBar)}</div>\n                }\n              />\n            </Col>\n\n            {/* <Col md={6}>\n              <Card\n                title=\"Tasks\"\n                category=\"Backend development\"\n                stats=\"Updated 3 minutes ago\"\n                statsIcon=\"fa fa-history\"\n                content={\n                  <div className=\"table-full-width\">\n                    <table className=\"table\">\n                      <Tasks />\n                    </table>\n                  </div>\n                }\n              />\n            </Col> */}\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}